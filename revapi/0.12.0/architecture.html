<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Architecture :: Revapi</title>
    <link rel="canonical" href="https://revapi.org/revapi/0.15.1/architecture.html">
    <meta name="generator" content="Antora 2.3.4">
<link rel="stylesheet" href="../../_/css/site.css">
<link rel="stylesheet" href="../../_/css/news.css">
<link rel="stylesheet" href="../../_/css/additions.css">

<link rel="alternate" type="application/rss+xml" title="Revapi RSS" href="../../_/../revapi-site/main/news/_attachments/news.atom" />
<link rel="stylesheet" href="../../_/css/search.css">
  </head>
  <body class="article">
<header class="header">
    <nav class="navbar">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://revapi.org">Revapi</a>
              <div class="navbar-item">
                <input id="search-input" type="text" placeholder="Search docs">
              </div>
            <button class="navbar-burger" data-target="topbar-nav">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
        <div id="topbar-nav" class="navbar-menu">
            <div class="navbar-end">
                <a class="navbar-item" href="../../revapi-site/main/index.html/../news/index.html">News</a>
                <a class="navbar-item" href="../../revapi-site/main/index.html/../downloads.html">Downloads</a>
                <a class="navbar-item" href="https://diff.revapi.org">Online Check</a>
                <a class="navbar-item" href="https://github.com/revapi/revapi"><img src="../../_/img/github.svg" alt="Github Repository"/></a>
                <a class="navbar-item" href="https://twitter.com/revapi_org"><img src="../../_/img/twitter.svg" alt="Twitter"/></a>
                <a class="navbar-item" href="../../_/../revapi-site/main/news/_attachments/news.atom"><img src="../../_/img/rss.svg" alt="RSS"/></a>
            </div>
        </div>
    </nav>
</header>
<div class="body">
<div class="nav-container" data-component="revapi" data-version="0.12.0">
  <aside class="nav">
    <div class="panels">
    <div class="nav-panel-menu is-active" data-panel="menu">
        <nav class="nav-menu">
                <ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../revapi-site/main/getting-started.html">Getting Started</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../revapi-site/main/faq.html">FAQ</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../0.15.1/architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../0.15.1/configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../0.15.1/extending-revapi.html">Extending Revapi</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../revapi-site/main/building.html">Building</a>
  </li>
</ul>
  </li>
</ul>
            <ul class="nav-list">
                <li class="nav-item" data-depth="0">
                    <hr/>
                    <i class="nav-text">Modules</i>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../revapi-ant-task/0.13.1/index.html">
                                    <span class="nav-text">Ant Task</span>
                                </a>
                            </li>
                            <li class="nav-item is-active" data-depth="0">
                                <a class="nav-link" href="../0.15.1/index.html">
                                    <span class="nav-text">API</span>
                                </a>
                                    <ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="_attachments/apidocs/index.html">Javadoc</a>
  </li>
</ul>
  </li>
</ul>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../revapi-basic-features/0.13.1/index.html">
                                    <span class="nav-text">Basic Features</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../revapi-standalone/0.12.1/index.html">
                                    <span class="nav-text">CLI</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../revapi-reporter-file-base/0.5.1/index.html">
                                    <span class="nav-text">File Reporter Base</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../revapi-jackson/0.5.1/index.html">
                                    <span class="nav-text">Jackson Analyzer Base</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../revapi-java/0.28.4/index.html">
                                    <span class="nav-text">Java Analyzer</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../revapi-java-spi/0.25.1/index.html">
                                    <span class="nav-text">Java Analyzer SPI</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../revapi-json/0.4.1/index.html">
                                    <span class="nav-text">JSON Analyzer</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../revapi-reporter-json/0.5.1/index.html">
                                    <span class="nav-text">JSON Reporter</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../revapi-maven-plugin/0.15.1/index.html">
                                    <span class="nav-text">Maven Plugin</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../revapi-reporter-text/0.15.1/index.html">
                                    <span class="nav-text">Text Reporter</span>
                                </a>
                            </li>
                            <li class="nav-item" data-depth="0">
                                <a class="nav-link" href="../../revapi-yaml/0.4.1/index.html">
                                    <span class="nav-text">YAML Analyzer</span>
                                </a>
                            </li>
                </li>
            </ul>
        </nav>
    </div>
<div class="nav-panel-explore" data-panel="explore" style="display: none">
  <div class="context">
    <span class="title">API</span>
    <span class="version">0.12.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Ant Task</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-ant-task/0.13.1/index.html">0.13.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-ant-task/0.13.0/index.html">0.13.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-ant-task/0.12.6/index.html">0.12.6</a>
        </li>
        <li class="version">
          <a href="../../revapi-ant-task/0.12.5/index.html">0.12.5</a>
        </li>
        <li class="version">
          <a href="../../revapi-ant-task/0.12.4/index.html">0.12.4</a>
        </li>
        <li class="version">
          <a href="../../revapi-ant-task/0.12.3/index.html">0.12.3</a>
        </li>
        <li class="version">
          <a href="../../revapi-ant-task/0.12.2/index.html">0.12.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-ant-task/0.12.1/index.html">0.12.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-ant-task/0.12.0/index.html">0.12.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-ant-task/0.11.2/index.html">0.11.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-ant-task/0.11.1/index.html">0.11.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-ant-task/0.11.0/index.html">0.11.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-ant-task/0.10.2/index.html">0.10.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-ant-task/0.10.1/index.html">0.10.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-ant-task/0.10.0/index.html">0.10.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">API</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../0.15.1/index.html">0.15.1</a>
        </li>
        <li class="version">
          <a href="../0.15.0/index.html">0.15.0</a>
        </li>
        <li class="version">
          <a href="../0.14.5/index.html">0.14.5</a>
        </li>
        <li class="version">
          <a href="../0.14.4/index.html">0.14.4</a>
        </li>
        <li class="version">
          <a href="../0.14.3/index.html">0.14.3</a>
        </li>
        <li class="version">
          <a href="../0.14.2/index.html">0.14.2</a>
        </li>
        <li class="version">
          <a href="../0.14.1/index.html">0.14.1</a>
        </li>
        <li class="version">
          <a href="../0.14.0/index.html">0.14.0</a>
        </li>
        <li class="version">
          <a href="../0.13.2/index.html">0.13.2</a>
        </li>
        <li class="version">
          <a href="../0.13.1/index.html">0.13.1</a>
        </li>
        <li class="version">
          <a href="../0.13.0/index.html">0.13.0</a>
        </li>
        <li class="version is-current">
          <a href="index.html">0.12.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Basic Features</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-basic-features/0.13.1/index.html">0.13.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-basic-features/0.13.0/index.html">0.13.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-basic-features/0.12.6/index.html">0.12.6</a>
        </li>
        <li class="version">
          <a href="../../revapi-basic-features/0.12.5/index.html">0.12.5</a>
        </li>
        <li class="version">
          <a href="../../revapi-basic-features/0.12.4/index.html">0.12.4</a>
        </li>
        <li class="version">
          <a href="../../revapi-basic-features/0.12.3/index.html">0.12.3</a>
        </li>
        <li class="version">
          <a href="../../revapi-basic-features/0.12.2/index.html">0.12.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-basic-features/0.12.1/index.html">0.12.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-basic-features/0.11.2/index.html">0.11.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-basic-features/0.11.1/index.html">0.11.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-basic-features/0.11.0/index.html">0.11.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-basic-features/0.10.2/index.html">0.10.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-basic-features/0.10.1/index.html">0.10.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-basic-features/0.10.0/index.html">0.10.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">CLI</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-standalone/0.12.1/index.html">0.12.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-standalone/0.12.0/index.html">0.12.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-standalone/0.11.7/index.html">0.11.7</a>
        </li>
        <li class="version">
          <a href="../../revapi-standalone/0.11.6/index.html">0.11.6</a>
        </li>
        <li class="version">
          <a href="../../revapi-standalone/0.11.5/index.html">0.11.5</a>
        </li>
        <li class="version">
          <a href="../../revapi-standalone/0.11.4/index.html">0.11.4</a>
        </li>
        <li class="version">
          <a href="../../revapi-standalone/0.11.3/index.html">0.11.3</a>
        </li>
        <li class="version">
          <a href="../../revapi-standalone/0.11.2/index.html">0.11.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-standalone/0.11.1/index.html">0.11.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-standalone/0.11.0/index.html">0.11.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-standalone/0.10.2/index.html">0.10.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-standalone/0.10.1/index.html">0.10.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-standalone/0.10.0/index.html">0.10.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-standalone/0.9.8/index.html">0.9.8</a>
        </li>
        <li class="version">
          <a href="../../revapi-standalone/0.9.7/index.html">0.9.7</a>
        </li>
        <li class="version">
          <a href="../../revapi-standalone/0.9.6/index.html">0.9.6</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">File Reporter Base</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-reporter-file-base/0.5.1/index.html">0.5.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-file-base/0.5.0/index.html">0.5.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-file-base/0.4.6/index.html">0.4.6</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-file-base/0.4.5/index.html">0.4.5</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-file-base/0.4.4/index.html">0.4.4</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-file-base/0.4.3/index.html">0.4.3</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-file-base/0.4.2/index.html">0.4.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-file-base/0.4.1/index.html">0.4.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-file-base/0.4.0/index.html">0.4.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-file-base/0.3.2/index.html">0.3.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-file-base/0.3.1/index.html">0.3.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-file-base/0.3.0/index.html">0.3.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-file-base/0.2.1/index.html">0.2.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-file-base/0.2.0/index.html">0.2.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Jackson Analyzer Base</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-jackson/0.5.1/index.html">0.5.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-jackson/0.5.0/index.html">0.5.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-jackson/0.4.2/index.html">0.4.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-jackson/0.4.1/index.html">0.4.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-jackson/0.4.0/index.html">0.4.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-jackson/0.3.2/index.html">0.3.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-jackson/0.3.1/index.html">0.3.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-jackson/0.3.0/index.html">0.3.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-jackson/0.2.1/index.html">0.2.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-jackson/0.2.0/index.html">0.2.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-jackson/0.1.1/index.html">0.1.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-jackson/0.1.0/index.html">0.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Java Analyzer</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-java/0.28.4/index.html">0.28.4</a>
        </li>
        <li class="version">
          <a href="../../revapi-java/0.28.3/index.html">0.28.3</a>
        </li>
        <li class="version">
          <a href="../../revapi-java/0.28.2/index.html">0.28.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-java/0.28.1/index.html">0.28.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-java/0.28.0/index.html">0.28.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-java/0.27.1/index.html">0.27.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-java/0.27.0/index.html">0.27.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-java/0.26.1/index.html">0.26.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-java/0.26.0/index.html">0.26.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-java/0.25.0/index.html">0.25.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-java/0.24.4/index.html">0.24.4</a>
        </li>
        <li class="version">
          <a href="../../revapi-java/0.24.3/index.html">0.24.3</a>
        </li>
        <li class="version">
          <a href="../../revapi-java/0.24.2/index.html">0.24.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-java/0.24.1/index.html">0.24.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-java/0.24.0/index.html">0.24.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-java/0.23.2/index.html">0.23.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-java/0.23.1/index.html">0.23.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-java/0.23.0/index.html">0.23.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-java/0.22.1/index.html">0.22.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-java/0.22.0/index.html">0.22.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Java Analyzer SPI</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-java-spi/0.25.1/index.html">0.25.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-java-spi/0.25.0/index.html">0.25.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-java-spi/0.24.0/index.html">0.24.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-java-spi/0.23.6/index.html">0.23.6</a>
        </li>
        <li class="version">
          <a href="../../revapi-java-spi/0.23.5/index.html">0.23.5</a>
        </li>
        <li class="version">
          <a href="../../revapi-java-spi/0.23.4/index.html">0.23.4</a>
        </li>
        <li class="version">
          <a href="../../revapi-java-spi/0.23.3/index.html">0.23.3</a>
        </li>
        <li class="version">
          <a href="../../revapi-java-spi/0.23.2/index.html">0.23.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-java-spi/0.23.1/index.html">0.23.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-java-spi/0.23.0/index.html">0.23.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-java-spi/0.22.2/index.html">0.22.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-java-spi/0.22.1/index.html">0.22.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-java-spi/0.22.0/index.html">0.22.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-java-spi/0.21.1/index.html">0.21.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-java-spi/0.21.0/index.html">0.21.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">JSON Analyzer</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-json/0.4.1/index.html">0.4.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-json/0.4.0/index.html">0.4.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-json/0.3.5/index.html">0.3.5</a>
        </li>
        <li class="version">
          <a href="../../revapi-json/0.3.4/index.html">0.3.4</a>
        </li>
        <li class="version">
          <a href="../../revapi-json/0.3.3/index.html">0.3.3</a>
        </li>
        <li class="version">
          <a href="../../revapi-json/0.3.2/index.html">0.3.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-json/0.3.1/index.html">0.3.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-json/0.3.0/index.html">0.3.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-json/0.2.1/index.html">0.2.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-json/0.2.0/index.html">0.2.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-json/0.1.1/index.html">0.1.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-json/0.1.0/index.html">0.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">JSON Reporter</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-reporter-json/0.5.1/index.html">0.5.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-json/0.5.0/index.html">0.5.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-json/0.4.6/index.html">0.4.6</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-json/0.4.5/index.html">0.4.5</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-json/0.4.4/index.html">0.4.4</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-json/0.4.3/index.html">0.4.3</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-json/0.4.2/index.html">0.4.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-json/0.4.1/index.html">0.4.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-json/0.4.0/index.html">0.4.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-json/0.3.2/index.html">0.3.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-json/0.3.1/index.html">0.3.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-json/0.3.0/index.html">0.3.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-json/0.2.1/index.html">0.2.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-json/0.2.0/index.html">0.2.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Maven Plugin</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-maven-plugin/0.15.1/index.html">0.15.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-maven-plugin/0.15.0/index.html">0.15.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-maven-plugin/0.14.7/index.html">0.14.7</a>
        </li>
        <li class="version">
          <a href="../../revapi-maven-plugin/0.14.6/index.html">0.14.6</a>
        </li>
        <li class="version">
          <a href="../../revapi-maven-plugin/0.14.5/index.html">0.14.5</a>
        </li>
        <li class="version">
          <a href="../../revapi-maven-plugin/0.14.4/index.html">0.14.4</a>
        </li>
        <li class="version">
          <a href="../../revapi-maven-plugin/0.14.3/index.html">0.14.3</a>
        </li>
        <li class="version">
          <a href="../../revapi-maven-plugin/0.14.2/index.html">0.14.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-maven-plugin/0.14.1/index.html">0.14.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-maven-plugin/0.14.0/index.html">0.14.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-maven-plugin/0.13.6/index.html">0.13.6</a>
        </li>
        <li class="version">
          <a href="../../revapi-maven-plugin/0.13.5/index.html">0.13.5</a>
        </li>
        <li class="version">
          <a href="../../revapi-maven-plugin/0.13.4/index.html">0.13.4</a>
        </li>
        <li class="version">
          <a href="../../revapi-maven-plugin/0.13.3/index.html">0.13.3</a>
        </li>
        <li class="version">
          <a href="../../revapi-maven-plugin/0.13.2/index.html">0.13.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-maven-plugin/0.13.1/index.html">0.13.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-maven-plugin/0.13.0/index.html">0.13.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-maven-plugin/0.12.2/index.html">0.12.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-maven-plugin/0.12.1/index.html">0.12.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-maven-plugin/0.12.0/index.html">0.12.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Revapi Site</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-site/main/index.html">main</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Text Reporter</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-reporter-text/0.15.1/index.html">0.15.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-text/0.15.0/index.html">0.15.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-text/0.14.6/index.html">0.14.6</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-text/0.14.5/index.html">0.14.5</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-text/0.14.4/index.html">0.14.4</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-text/0.14.3/index.html">0.14.3</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-text/0.14.2/index.html">0.14.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-text/0.14.1/index.html">0.14.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-text/0.14.0/index.html">0.14.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-text/0.13.2/index.html">0.13.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-text/0.13.1/index.html">0.13.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-text/0.13.0/index.html">0.13.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-text/0.12.1/index.html">0.12.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-reporter-text/0.12.0/index.html">0.12.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">YAML Analyzer</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../revapi-yaml/0.4.1/index.html">0.4.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-yaml/0.4.0/index.html">0.4.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-yaml/0.3.5/index.html">0.3.5</a>
        </li>
        <li class="version">
          <a href="../../revapi-yaml/0.3.4/index.html">0.3.4</a>
        </li>
        <li class="version">
          <a href="../../revapi-yaml/0.3.3/index.html">0.3.3</a>
        </li>
        <li class="version">
          <a href="../../revapi-yaml/0.3.2/index.html">0.3.2</a>
        </li>
        <li class="version">
          <a href="../../revapi-yaml/0.3.1/index.html">0.3.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-yaml/0.3.0/index.html">0.3.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-yaml/0.2.1/index.html">0.2.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-yaml/0.2.0/index.html">0.2.0</a>
        </li>
        <li class="version">
          <a href="../../revapi-yaml/0.1.1/index.html">0.1.1</a>
        </li>
        <li class="version">
          <a href="../../revapi-yaml/0.1.0/index.html">0.1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../revapi-site/main/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">API</a></li>
    <li><a href="architecture.html">Architecture</a></li>
  </ul>
</nav>
  Version:
<div class="page-versions">
    <button class="version-menu-toggle" title="Versions of the component">
      0.12.0
    </button>
  <div class="version-menu">
        <a class="version" href="../0.15.1/architecture.html">

          0.15.1
        </a>
        <a class="version" href="../0.15.0/architecture.html">

          0.15.0
        </a>
        <a class="version" href="../0.14.5/architecture.html">

          0.14.5
        </a>
        <a class="version" href="../0.14.4/architecture.html">

          0.14.4
        </a>
        <a class="version" href="../0.14.3/architecture.html">

          0.14.3
        </a>
        <a class="version" href="../0.14.2/architecture.html">

          0.14.2
        </a>
        <a class="version" href="../0.14.1/architecture.html">

          0.14.1
        </a>
        <a class="version" href="../0.14.0/architecture.html">

          0.14.0
        </a>
        <a class="version" href="../0.13.2/architecture.html">

          0.13.2
        </a>
        <a class="version" href="../0.13.1/architecture.html">

          0.13.1
        </a>
        <a class="version" href="../0.13.0/architecture.html">

          0.13.0
        </a>
        <a class="version is-current" href="architecture.html">

          0.12.0
        </a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/revapi/revapi/edit/main/revapi/src/site/modules/ROOT/pages/architecture.adoc" title="Edit the latest version of this page">Edit this page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Architecture</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Revapi has a very simple architecture consisting of a simple linear pipeline that processes a "forest" (a set of trees)
of individual API elements.</p>
</div>
<div class="paragraph">
<p>The API elements come from archives. As of now, the only possible source of archives is the file system (future versions
of Revapi may introduce other implementations for different sources of archives).</p>
</div>
<div class="paragraph">
<p>A set of archives containing the old version of API is passed to an archive analyzer that produces a forest of API
elements. Then archives of the new version are analyzed the same way.</p>
</div>
<div class="paragraph">
<p>The two API forests are then consistently sorted and traversed in parallel. New or missing elements are detected and
equivalent elements are compared using an element analyzer, producing a set of reports that contain the differences
found while comparing the elements. The differences are then simply reported.</p>
</div>
<div class="paragraph">
<p>The following diagram depicts the work flow graphically.</p>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/plantuml/svg/eNqtjj0OwjAMhfeewhfoBYpUKRJ0BAS9QNQ6EJE6leOC6OlJUoYMjGz2-_n0gmiWynh-VADNyY2geLjbJ4ZdEr4PKNLuvSInsW7Vtc_uweGEJNBZJ8hhM8-8EEZMyiQu6Ju2lOJHfP2VjjRCXt7srTHISEPJqttCvuDsWSKkzPasKUTCFFK6s7Fq10j_2duuPCSInz-OyWZB" alt="Diagram">
</div>
</div>
<div class="paragraph">
<p>Each of the stages in that work flow is configurable. The configuration is supplied as JSON files, that are validated
against JSON schemas that each extension can supply.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_extension_points"><a class="anchor" href="#_extension_points"></a>Extension points</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The diagram above hints at several extension points available in Revapi.</p>
</div>
<div class="sect2">
<h3 id="_archives"><a class="anchor" href="#_archives"></a>Archives</h3>
<div class="paragraph">
<p>An <a href="#revapi::attachment$apidocs/org/revapi/Archive.html">archive</a> is a very simple abstraction over a file that represents
the archive containing some API elements (like Java&#8217;s jar archive or a class file, an XML document, properties file,
etc).</p>
</div>
<div class="paragraph">
<p>Revapi actually doesn&#8217;t provide any implementation of it on its own (only the standalone Revapi&#8217;s CLI contains a private
implementation able to read from files) but it is trivial to implement one.</p>
</div>
</div>
<div class="sect2">
<h3 id="_api_analyzer"><a class="anchor" href="#_api_analyzer"></a>API Analyzer</h3>
<div class="paragraph">
<p>An <a href="#revapi::attachment$/apidocs/org/revapi/ApiAnalyzer.html">API analyzer</a> (which is kinda implicit in the diagram) is
the main interface for implementing API checks for custom "language". It provides and configures the analyzers of the
archives and API difference analyzers both to be detailed below.</p>
</div>
</div>
<div class="sect2">
<h3 id="_archive_analyzer"><a class="anchor" href="#_archive_analyzer"></a>Archive Analyzer</h3>
<div class="paragraph">
<p>An <a href="#revapi::attachment$/apidocs/org/revapi/ArchiveAnalyzer.html">archive analyzer</a> is instantiated and configured by the
API analyzer to analyze archives of a version of API. It represents the results of the analysis as an
<a href="#revapi::attachment$/apidocs/org/revapi/ElementForest.html">element forest</a> (i.e. a set of element trees).</p>
</div>
</div>
<div class="sect2">
<h3 id="_element_filter"><a class="anchor" href="#_element_filter"></a>Element Filter</h3>
<div class="paragraph">
<p>An <a href="#revapi::attachment$/apidocs/org/revapi/ElementFilter.html">element filter</a> can filter out elements from the element
forest before they are passed further down the API analysis pipeline. The same set of element filters is applied to
both the old API and new API element forests.</p>
</div>
</div>
<div class="sect2">
<h3 id="_difference_analyzer"><a class="anchor" href="#_difference_analyzer"></a>Difference Analyzer</h3>
<div class="paragraph">
<p>The magic happens in the <a href="#revapi::attachment$/apidocs/org/revapi/DifferenceAnalyzer.html">difference analyzers</a>. Revapi
simultaneously traverses the two element forests discovering new or removed elements and matching the comparable
elements in them (using a <a href="#revapi::attachment$/apidocs/org/revapi/CoIterator.html">co-iterator</a>). It then passes the
matched pairs to the difference analyzer that performs the actual analysis of changes and provides the reports
summarizing them.</p>
</div>
<div class="paragraph">
<p>A report summarizes the differences found between 2 elements - one from the old API and the other from the new API
(accounting for removals or additions by one of the pair being null).</p>
</div>
<div class="paragraph">
<p>In addition to the two elements in comparison, the report also contains the list of the differences the analyzer found
between the two.</p>
</div>
<div class="sect3">
<h4 id="_differences"><a class="anchor" href="#_differences"></a>Differences</h4>
<div class="paragraph">
<p>Each difference is identified by its <code>code</code>. The <code>code</code> is a textual ID of the difference that should be unique. In
addition to that, the difference can also define a human readable name and description. The difference has
a classification - a mapping between a compatibility type and the severity - basically saying how severe the difference
is for given type of compatibility. In addition to that, a difference contains <code>attachments</code> which is a varying list
of additional information about the difference and criticality - how critical the difference is for the analysis
results.</p>
</div>
<div class="paragraph">
<p>Revapi recognizes 4 types of compatibility:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SOURCE</code> - old and new API is source compatible if the code using the old API can be compiled against the new API
without modification.</p>
</li>
<li>
<p><code>BINARY</code> - old and new API is binary compatible if the code compiled against the old API can run using the new API
with modification and error.</p>
</li>
<li>
<p><code>SEMANTIC</code> - old and new API is semantically compatible if they behave the same</p>
</li>
<li>
<p><code>OTHER</code> - other type of compatibility not captured by the previous three.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>And here are the severities of differences:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BREAKING</code> - the differences breaks the API compatibility (of given type)</p>
</li>
<li>
<p><code>POTENTIALLY_BREAKING</code> - the difference may break the API compatibility (of given type) under some specific
circumstances</p>
</li>
<li>
<p><code>NON_BREAKING</code> - the difference doesn&#8217;t break the API</p>
</li>
<li>
<p><code>EQUIVALENT</code> - "there is no change" - this is provided so that transforms and other tools can declare that certain
changes are not even non-breaking - they are effectively non-existent.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Apart from this classification, a difference also defines its criticality. This expresses how severe the change is
regardless of the severity under different compatibility types. This is meant to be supplied mostly through
the configuration by the library author and should give the user the information about how severe the change is
perceived by the library author or how critical it is for the results of the current analysis (this may be configured
differently for build-time analysis or for report generation).</p>
</div>
<div class="paragraph">
<p>A criticality is identified by its name and has a level associated with it. The higher the level, the more critical
the criticality is. There are 4 predefined criticalities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>allowed</code> - for API changes that are allowed to happen and might not even be tracked in some kind of generated report.
The level of this is set to <code>1000</code>.</p>
</li>
<li>
<p><code>documented</code> - for API changes that are justified and documented in some generated report. The level of this is set
to <code>2000</code>.</p>
</li>
<li>
<p><code>highlight</code> - essentially the same as <code>documented</code> but more "severe". Such API changes should be somehow highlighted
in the generated reports because they are very important to take note of by the users. The level of this is set to
<code>3000</code>.</p>
</li>
<li>
<p><code>error</code> - These changes should not be allowed in a release. The level of this is set to the maximum integer value.
There can be no more severe criticality than this.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The criticality is not generally assigned directly by the difference analyzer. It is meant to be assigned by
the user that configures the analysis through configuring difference transform extensions to assign the criticality
based on some criteria.</p>
</div>
<div class="paragraph">
<p>The recognized criticalities can be configured in the pipeline configuration where one can define a completely new set
of criticalities known to the analysis or just augment the levels of the default ones.</p>
</div>
<div class="paragraph">
<p>Additionally, there is a default mapping for converting a difference severity to criticality. This is used in situations
where no transform assigns a criticality to the difference. This mapping can again be configured. The default mapping
is rather conservative:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>EQUIVALENT</code> is assumed to have <code>allowed</code> criticality</p>
</li>
<li>
<p><code>NON_BREAKING</code> is assumed to have <code>documented</code> criticality</p>
</li>
<li>
<p><code>POTENTIALLY_BREAKING</code> is assumed to have <code>error</code> criticality</p>
</li>
<li>
<p><code>BREAKING</code> is assumed to have <code>error</code> criticality</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_difference_transform"><a class="anchor" href="#_difference_transform"></a>Difference Transform</h3>
<div class="paragraph">
<p>Once the differences are found they are supplied to the
<a href="#revapi::attachment$/apidocs/org/revapi/DifferenceTransform.html">difference transforms</a>. These extensions can, as the
name suggests, transform the found differences into different ones or altogether remove them from the results.</p>
</div>
<div class="sect3">
<h4 id="_transformation_algorithm"><a class="anchor" href="#_transformation_algorithm"></a>Transformation Algorithm</h4>
<div class="paragraph">
<p>As briefly explained above, Revapi compares element pairs from old and new API one at a time. For each element pair,
a report is produced detailing all the found differences. Each such report is then processed by the transformers. Each
transformer is given a chance to transform the differences from the original report and their intended changes are
gathered. After the "round", the changes are applied to the list of differences for the element pair and all
the transformers can again react on the new list of differences. This repeats until no further changes are made to
the list by the transformers.</p>
</div>
<div class="paragraph">
<p>You can spot in the explanation above that there is a good chance for an infinite loop if two or more transformers form
a "cycle", meaning that a difference that produced by one transformer is changed again into the original by a second
transformer, which again is transformed by the first transformer, etc.</p>
</div>
<div class="paragraph">
<p>Revapi guards against this simply by doing at most 1&#160;000&#160;000 such iterations and then throwing an error.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_transformation_blocks"><a class="anchor" href="#_transformation_blocks"></a>Transformation Blocks</h3>
<div class="paragraph">
<p>One thing was not explicitly mentioned in the basic description of the transformation algorithm. Transformations can
be grouped into blocks that then act as a single transformation in the above algorithm.</p>
</div>
<div class="paragraph">
<p>What is this good for?</p>
</div>
<div class="paragraph">
<p>You can notice that it is hard (read impossible without transformation blocks) to "prepare" differences using one
transform and then produce the final difference using a different transform.</p>
</div>
<div class="paragraph">
<p>As an example, let&#8217;s suppose that we would like to use Revapi for checking semantic versioning of our code but we would
only like to base our semantic version on the binary compatibility of the code, disregarding any source or semantic
incompatibilities.</p>
</div>
<div class="paragraph">
<p>Such thing would be impossible without transformation blocks because the transformation algorithm makes sure each
transform sees all the differences and all changes to the original differences are transferred to the next
"transformation round".</p>
</div>
<div class="paragraph">
<p>So, how would we use transformation blocks and how would we configure Revapi to only consider binary compatibility?</p>
</div>
<div class="paragraph">
<p>Let&#8217;s use Maven for our example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;analysisConfiguration&gt;
  &lt;revapi.semver.ignore&gt;
    &lt;enabled&gt;true&lt;/enabled&gt;
  &lt;/revapi.semver.ignore&gt;
  &lt;revapi.reclassify&gt;
    &lt;item&gt;
      &lt;regex&gt;true&lt;/regex&gt;
      &lt;code&gt;.*&lt;/code&gt;
      &lt;classify&gt;
        &lt;SOURCE&gt;EQUIVALENT&lt;/SOURCE&gt;
        &lt;SEMANTIC&gt;EQUIVALENT&lt;/SEMANTIC&gt;
        &lt;OTHER&gt;EQUIVALENT&lt;/OTHER&gt;
      &lt;/classify&gt;
    &lt;/item&gt;
  &lt;/revapi.reclassify&gt;
&lt;/analysisConfiguration&gt;
&lt;pipelineConfiguration&gt;
  &lt;transformBlocks&gt;
    &lt;block&gt;
      &lt;item&gt;revapi.reclassify&lt;/item&gt;
      &lt;item&gt;revapi.semver.ignore&lt;/item&gt;
    &lt;/block&gt;
  &lt;/transformBlocks&gt;
&lt;/pipelineConfiguration&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>What have we done there? The analysis configuration looks "normal". We enable the <code>revapi.semver.ignore</code> extension and
leave it with the default configuration. We additionally configure <code>revapi.reclassify</code> to tone down any difference
(with any code, by using <code>.*</code> as the regex to match any difference code) to <code>EQUIVALENT</code>, effectively "switching them
off" for all compatibility types but <code>BINARY</code>.</p>
</div>
<div class="paragraph">
<p>The new thing is the <code>pipelineConfiguration</code>. This tells Revapi to group the two transforms together and consider them
as one - the "output" difference of <code>revapi.reclassify</code> is used as "input" difference to <code>revapi.semver.ignore</code> and
"output" of that is used for the reporting purposes. The important thing is that <code>revapi.semver.ignore</code> never sees
the original differences as reported by the analyzer. It only ever sees the differences first transformed by
<code>revapi.reclassify</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_reporter"><a class="anchor" href="#_reporter"></a>Reporter</h3>
<div class="paragraph">
<p>Finally, after the final set of differences is settled, it is passed to the
<a href="#revapi::attachment$/apidocs/org/revapi/Reporter.html">reporters</a>. These are responsible to report the found
differences to the caller somehow (standard output, database, xml files, whatever one imagines).</p>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
    <p>Copyright 2014-2025 Lukas Krejci.</p>
    <p>This site was built using <a href="https://antora.org">Antora 2.3.4</a>.</p>
</footer>
<script>
  window.antora = window.antora || {}
  window.antora.basePath = '../..'
  window.antora.pagePath = '/revapi/0.12.0/architecture.html'
</script>
<script src="../../_/js/site.js"></script>
  <script src="../../_/js/vendor/lunr.js"></script>
  <script src="../../_/js/vendor/search.js"></script>
  <script async src="../../_/../search-index.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script>
    function toggleVersionSelector(id) {
        var sel = document.getElementById(id)
        if (!sel) {
            return
        }

        if (sel.style.display == 'none') {
            sel.style.display = 'block';
        } else {
            sel.style.display = 'none';
        }
    }
</script>  </body>
</html>
